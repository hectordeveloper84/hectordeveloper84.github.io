openapi: 3.0.4
info:
  title: API Servicios Software Fábrica para sistemas de  gestión (ERP)
  description: Detalle de los servicios proporcinados por el software de fábrica que son llamadas desde sistemas externos como sistemas de gestión (ERP)
   para guardar información en el sistema de fábrica. Tambien ser ofrecen servicios de consulta para poder consultar información de la fábrica desde fuera.
   almacenada en el ERP.
  version: 1.0.0
servers:
  - url: https://server.fabrica.com
tags:
  - name: contratosCompra
    description: Servicios de contratos de compra
  - name: recepciones
    description: Servicios de recepciones de materia prima
  - name: expediciones
    description: Servicios de expediciones de pienso
  - name: agenda
    description: Servicios de datos de agenda
  - name: materiaPrima
    description: Servicios de datos de materia prima
  - name: vehiculos
    description: Servicios de datos de vehículos
paths:
  /clientes:
    post:
      tags:
        - agenda
      summary: Crear o modificar clientes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Clientes"
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [OK, NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
    get:
      tags:
        - agenda
      summary: Consulta de clientes
      description: Consulta por id pasado por parametro. El identificador id usado anteriormente.
      parameters:
        - name: id
          in: query
          description: Identificador del cliente
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Clientes"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
  /proveedores:
    post:
      tags:
        - agenda
      summary: Crear o modificar proveedores
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Proveedores"
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [OK, NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
    get:
      tags:
        - agenda
      summary: Consulta de proveedores
      description: Consulta por id pasado por parametro. El identificador id usado anteriormente.
      parameters:
        - name: id
          in: query
          description: Identificador del proveedor
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Proveedores"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
  /explotaciones:
    post:
      tags:
        - agenda
      summary: Crear o modificar explotaciones
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Explotaciones"
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [OK, NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
    get:
      tags:
        - agenda
      summary: Consulta de explotaciones
      description: Consulta por id pasado por parametro. El identificador id usado anteriormente.
      parameters:
        - name: id
          in: query
          description: Identificador de la explotación
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Explotaciones"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
  /transportistas:
    post:
      tags:
        - agenda
      summary: Crear o modificar transportistas
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Transportistas"
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [OK, NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
    get:
      tags:
        - agenda
      summary: Consulta de transportistas
      description: Consulta por id pasado por parametro. El identificador id usado anteriormente.
      parameters:
        - name: id
          in: query
          description: Identificador del transportista
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Transportistas"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
  /conductores:
    post:
      tags:
        - agenda
      summary: Crear o modificar conductores
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Conductores"
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [OK, NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
    get:
      tags:
        - agenda
      summary: Consulta de conductores
      description: Consulta por id pasado por parametro. El identificador id usado anteriormente.
      parameters:
        - name: id
          in: query
          description: Identificador del conductor
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Conductores"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
  /materiaPrima:
    post:
      tags:
        - materiaPrima
      summary: Crear o modificar artículos de materia prima
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MateriaPrima"
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [OK, NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
    get:
      tags:
        - agenda
      summary: Consulta de materia prima
      description: Consulta por id pasado por parametro. El identificador id usado anteriormente.
      parameters:
        - name: id
          in: query
          description: Identificador de la materia prima
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MateriaPrima"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
  /vehiculos:
    post:
      tags:
        - Vehiculos
      summary: Crear o modificar vehiculos
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Vehiculos"
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [OK, NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
    get:
      tags:
        - agenda
      summary: Consulta de materia prima
      description: Consulta por id pasado por parametro. El identificador id usado anteriormente.
      parameters:
        - name: id
          in: query
          description: Identificador del vehículo
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Vehiculos"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
  /contratosCompra:
    post:
      tags:
        - contratosCompra
      summary: Crear o modificar contratos de compra
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ContratosCompra"
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [OK, NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
    get:
      tags:
        - contratosCompra
      summary: Consulta de contratos de compra
      description: Consulta por id pasado por parametro. El identificador codigoexterno usado anteriormente.
      parameters:
        - name: id
          in: query
          description: Identificador del contrato de compra
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ContratosCompra"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
  /recepciones:
    post:
      tags:
        - recepciones
      summary: Crear o registrar recepciones de materia prima
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Recepciones"
      responses:
        '200':
          description: Recepción procesada correctamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Se ha guardado correctamente.
                  code:
                    type: string
                    enum: [OK, NOK]
                    example: OK
        '500':
          description: Error al procesar la recepción
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Se debe rellenar el campo producto.
                  code:
                    type: string
                    enum: [NOK]
                    example: NOK    
    get:
      tags:
        - recepciones
      summary: Consulta de recepciones de materia prima
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Recepciones"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
  /expediciones:
    post:
      tags:
        - expediciones
      summary: Obtener en el erp expediciones de pienso realizardas desde fábrica
      parameters:
        - name: tipo
          in: query
          required: true
          schema:
            type: string
            enum: [Expediciones]
      requestBody:
        required: true
        content:
          application/xml:
            schema:
              $ref: '#/components/schemas/Expediciones'
      responses:
        '200':
          description: Expediciones recibidas correctamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Expediciones procesadas correctamente
        '400':
          description: Solicitud incorrecta
        '500':
          description: Error interno del servidor
    get:
      tags:
        - expediciones
      summary: Consulta de expediciones de pienso
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Expediciones"
        '404':
          description: No se encuentra el registro
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [OK, NOK]
        '500':
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: string
                    enum: [NOK]
components:
  schemas:
    ContratosCompra:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - contratosCompra
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación en formato ISO 8601 con franja horaria
        origen:
          type: string
          description: Identificador del sistema origen
        contratosCompra:
          type: array
          description: Lista de los contratos compra.
          items:
            type: object
            required:
              - accion
              - codigoExterno
              - proveedor
              - fechaInicio
              - fechaFin
              - producto
              - presentacion
              - cantidad
              - estado
            properties:
              accion:
                type: string
                enum: [A, M]
                description: Alta (A) o Modificación (M)
              codigoExterno:
                type: string
                description: Código externo del contrato de compra
              proveedor:
                type: string
                description: Cuenta del proveedor
              fechaInicio:
                type: string
                format: date-time
                description: Fecha desde
              fechaFin:
                type: string
                format: date-time
                description: Fecha de expiración
              producto:
                type: string
                description: Código del artículo
              presentacion:
                type: string
                description: Código AEMES de presentación
              cantidad:
                type: number
                format: float
                description: Cantidad pendiente de entrega
              estado:
                type: string
                enum: [O, T, P]
                description: Estado del acuerdo (O aplicación abierta, T aplicación cerrada, P pendiente de abrirse)
              observacion:
                type: string
                description: Observaciones del acuerdo
              parametros:
                type: array
                items:
                  type: object
                  properties:
                    numeroParametro:
                      type: string
                      description: Identificador del parámetro del grupo de prueba
                    valorOptimo:
                      type: number
                      description: Valor óptimo del parámetro
                    valorMinimo:
                      type: number
                      description: Valor mínimo aceptable
                    valorMaximo:
                      type: number
                      description: Valor máximo aceptable
    Recepciones:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - recepciones
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación (ISO 8601 con zona horaria)
        origen:
          type: string
          description: Identificador del sistema origen
        recepciones:
          type: array
          items:
            type: object
            required:
              - viajeAemes
            properties:
              viajeAemes:
                type: string
                description: Número de identificación interna de aemes
              codigoExterno:
                type: string
                description: Identificador de la recepción (referencia transportista)
              identificadorProceso:
                type: string
              fecha:
                type: string
                format: date-time
              matriculaVehiculo:
                type: string
              matriculaRemolque:
                type: string
              transportista:
                type: string
              conductor:
                type: string
              perifericoPeso:
                type: string
              fechaEntrada:
                type: string
                format: date-time
              pesoEntrada:
                type: number
                format: float
              fechaSalida:
                type: string
                format: date-time
              pesoSalida:
                type: number
                format: float
              estado:
                type: string
                enum: [P, C, R]
              codigoRechazo:
                type: string
              reenviado:
                type: string
                enum: [S, N]
              lineas:
                type: array
                items:
                  type: object
                  required:
                    - id
                    - numeroLinea
                    - producto
                    - cantidadTeorica
                    - cantidadReal
                  properties:
                    id:
                      type: string
                    numeroLinea:
                      type: integer
                    producto:
                      type: string
                    presentacion:
                      type: string
                    numerosEnvases:
                      type: integer
                    codigoEnvase:
                      type: string
                    cantidadTeorica:
                      type: number
                      format: float
                    cantidadReal:
                      type: number
                      format: float
                    proveedor:
                      type: string
                    aplicacion:
                      type: string
                    loteProveedor:
                      type: string
                    loteEntrada:
                      type: string
                    codigoMuestra:
                      type: string
                    codigoRecipiente:
                      type: string
                    detalle1:
                      type: string
                    detalle2:
                      type: string
                    detalle3:
                      type: string
                    detalle4:
                      type: string
                    detalle5:
                      type: string
                    detalle6:
                      type: string
                    detalle7:
                      type: string
                    detalle8:
                      type: string
                    detalle9:
                      type: string
                    detalle10:
                      type: string
    Expediciones:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - expediciones
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación (ISO 8601 con zona horaria)
        origen:
          type: string
          description: Identificador del origen
          example: D365
        expediciones:
          type: array
          items:
            type: object
            required:
              - accion
              - codigoExterno
              - origen
            properties:
              accion:
                type: string
                description: A cuando es alta, B cuando es baja
                enum: [A, B]
              codigoExterno:
                type: string
              fecha:
                type: string
                format: date
              matriculaRemolque:
                type: string
              matriculaVehiculo:
                type: string
              transportista:
                type: string
              conductor:
                type: string
              estado:
                type: string
                enum: [E]
              lineas:
                type: array
                items:
                  type: object
                  properties:
                    pedido:
                      type: string
                    producto:
                      type: string
                    cantidad:
                      type: number
                      format: float
    Clientes:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - clientes
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación (ISO 8601 con zona horaria)
        origen:
          type: string
          description: Identificador del origen
          example: D365
        clientes:
          type: array
          items:
            type: object
            required:
              - accion
              - codigoExterno
            properties:
              accion:
                type: string
                description: A cuando es alta, B cuando es baja
                enum: [A, B]
              codigoExterno:
                type: string
              nif:
                type: string
              nombre:
                type: string
              direccion:
                type: string
              codigoPostal:
                type: string
              poblacion:
                type: string
              provincia:
                type: string
              pais:
                type: string
              telefono:
                type: string
              observaciones:
                type: string
    Proveedores:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - proveedores
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación (ISO 8601 con zona horaria)
        origen:
          type: string
          description: Identificador del origen
          example: D365
        proveedores:
          type: array
          items:
            type: object
            required:
              - accion
              - codigoExterno
            properties:
              accion:
                type: string
                description: A cuando es alta, B cuando es baja
                enum: [A, B]
              codigoExterno:
                type: string
              nif:
                type: string
              nombre:
                type: string
              direccion:
                type: string
              codigoPostal:
                type: string
              poblacion:
                type: string
              provincia:
                type: string
              pais:
                type: string
              telefono:
                type: string
              observaciones:
                type: string
    Explotaciones:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - explotaciones
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación (ISO 8601 con zona horaria)
        origen:
          type: string
          description: Identificador del origen
          example: D365
        explotaciones:
          type: array
          items:
            type: object
            required:
              - accion
              - codigoExterno
            properties:
              accion:
                type: string
                description: A cuando es alta, B cuando es baja
                enum: [A, B]
              codigoExterno:
                type: string
              nif:
                type: string
              nombre:
                type: string
              direccion:
                type: string
              codigoPostal:
                type: string
              poblacion:
                type: string
              provincia:
                type: string
              pais:
                type: string
              telefono:
                type: string
              observaciones:
                type: string
              clienteExplotacion:
                type: string
    Transportistas:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - transportistas
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación (ISO 8601 con zona horaria)
        origen:
          type: string
          description: Identificador del origen
          example: D365
        transportistas:
          type: array
          items:
            type: object
            required:
              - accion
              - codigoExterno
            properties:
              accion:
                type: string
                description: A cuando es alta, B cuando es baja
                enum: [A, B]
              codigoExterno:
                type: string
              nif:
                type: string
              nombre:
                type: string
              direccion:
                type: string
              codigoPostal:
                type: string
              poblacion:
                type: string
              provincia:
                type: string
              pais:
                type: string
              telefono:
                type: string
              observaciones:
                type: string
              delegacion:
                type: string
    Conductores:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - conductores
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación (ISO 8601 con zona horaria)
        origen:
          type: string
          description: Identificador del origen
          example: D365
        conductores:
          type: array
          items:
            type: object
            required:
              - accion
              - codigoExterno
            properties:
              accion:
                type: string
                description: A cuando es alta, B cuando es baja
                enum: [A, B]
              codigoExterno:
                type: string
              nif:
                type: string
              nombre:
                type: string
              direccion:
                type: string
              codigoPostal:
                type: string
              poblacion:
                type: string
              provincia:
                type: string
              pais:
                type: string
              telefono:
                type: string
              observaciones:
                type: string
              codigoTransportista:
                type: string
    MateriaPrima:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - conductores
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación (ISO 8601 con zona horaria)
        origen:
          type: string
          description: Identificador del origen
          example: D365
        conductores:
          type: array
          items:
            type: object
            required:
              - codigoExterno
            properties:
              codigoExterno:
                type: string
              clase:
                type: string
              nombre:
                type: string
              descripcion:
                type: string
              versiones:
                type: array
                items:
                  type: object
                  required:
                    - codigoExternoVersion
                  properties:  
                    codigoExternoVersion:
                      type: string
                    presentacionVersion:
                      type: string
    Vehiculos:
      type: object
      required:
        - mensajeId
        - fechaCreacion
        - origen
        - vehiculos
      properties:
        mensajeId:
          type: string
          format: uuid
          description: Identificador del mensaje
        fechaCreacion:
          type: string
          format: date-time
          description: Fecha de creación (ISO 8601 con zona horaria)
        origen:
          type: string
          description: Identificador del origen
          example: D365
        vehiculos:
          type: array
          items:
            type: object
            required:
              - accion
              - codigoExterno
            properties:
              accion:
                type: string
                enum: [A, B]
              matriculaRemolque:
                type: string
              tipoVehiculo:
                type: integer
              vehiculoRecepciones:
                type: string
                enum: [S, N]
              vehiculoExpediciones:
                type: string
                enum: [S, N]
              conductor:
                type: string
              transportista:
                type: string
              pesoMaximo:
                type: number
              taraVehiculo:
                type: number
              numeroCajones:
                type: integer
              tieneCajonMultiproducto:
                type: string
                enum: [S, N]
              puntoReferencia:
                type: string
              longitudReferenciaDelantera:
                type: number
              longitudReferenciaTrasera:
                type: number
              anchuraCamion:
                type: number
              capacidad1:
                type: number
              capacidad2:
                type: number
              capacidad3:
                type: number
              capacidad4:
                type: number
              capacidad5:
                type: number
              capacidad6:
                type: number
              capacidad7:
                type: number
              capacidad8:
                type: number
              capacidad9:
                type: number
              capacidad10:
                type: number
              longitud1:
                type: number
              longitud2:
                type: number
              longitud3:
                type: number
              longitud4:
                type: number
              longitud5:
                type: number
              Longitud6:
                type: number
              longitud7:
                type: number
              longitud8:
                type: number
              Longitud9:
                type: number
              longitud10:
                type: number
  securitySchemes:
    api_auth:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: https://login.microsoftonline.com/vallcompanys.es/oauth2/token
          scopes:
            "write:api": permiso de escritura
            "read:api": permiso de lectura
            
